<rcp:WindowContentControl x:Class="RayCarrot.RCP.Metro.UpdateAvailableDialog"
                          xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                          xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
                          xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                          xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                          xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                          xmlns:rcp="clr-namespace:RayCarrot.RCP.Metro"
                          mc:Ignorable="d"
                          ResxExtension.DefaultResxName="{x:Static rcp:LocalizationManager.ResourcePath}"
                          Background="{DynamicResource MahApps.Brushes.ThemeBackground}"
                          Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                          d:DesignWidth="800" d:DesignHeight="600" 
                          d:DataContext="{d:DesignInstance rcp:UpdateAvailableDialogViewModel}">

    <!-- TODO-LOC -->

    <Grid Margin="8">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Margin="{StaticResource RCP.Thicknesses.Card}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0">

                <Grid Margin="0 0 0 4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <iconPacks:PackIconMaterial Grid.Column="0"
                                                Kind="DownloadCircleOutline" 
                                                Width="24" 
                                                Height="24" 
                                                Foreground="{StaticResource RCP.Brushes.StatusComplete}" 
                                                Margin="0 0 8 0"/>

                    <TextBlock Grid.Column="1" 
                               Text="Update Available" 
                               Style="{StaticResource RCP.Styles.TextBlock.Header}" 
                               VerticalAlignment="Center"  />

                </Grid>

                <rcp:DuoGrid ItemsSource="{Binding Path=InfoItems, Mode=OneTime}" />

            </StackPanel>

            <Image Grid.Column="1"
                   Source="{rcp:AssetImageSource Asset={x:Static rcp:MessageIconAsset.Question}}"
                   Width="112" Height="112" />

        </Grid>

        <GroupBox Grid.Row="1" 
                  Header="Changelog" 
                  Margin="{StaticResource RCP.Thicknesses.Card}" 
                  Background="{DynamicResource RCP.Brushes.Card.Background}"
                  rcp:Icon.Kind="CardTextOutline"
                  rcp:Icon.Brush="{StaticResource RCP.Brushes.Info}">
            <ScrollViewer Padding="2">
                <TextBlock x:Name="ChangelogTextBlock"
                           TextWrapping="Wrap"
                           FontSize="14"
                           Text="{Binding Path=Changelog, Mode=OneTime}" />
            </ScrollViewer>
        </GroupBox>

        <Grid Grid.Row="2" Margin="{StaticResource RCP.Thicknesses.Card}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <Button Grid.Column="1" 
                    Click="CancelButton_OnClick"
                    Style="{StaticResource RCP.Styles.Button.Flat}"
                    Content="Remind me later"
                    VerticalAlignment="Center"
                    rcp:Icon.Kind="ClockOutline"
                    IsCancel="True"
                    Margin="0 0 4 0" />

            <Button Grid.Column="2" 
                    Click="ConfirmButton_OnClick"
                    Style="{StaticResource RCP.Styles.Button.Accent}"
                    Content="Update"
                    VerticalAlignment="Center"
                    IsDefault="True"
                    rcp:Icon.Kind="DownloadOutline" />
        </Grid>

    </Grid>
</rcp:WindowContentControl>